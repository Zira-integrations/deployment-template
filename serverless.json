{
	"service": "sandbox",
	"package": {
		"individually": true
	},
	"provider": {
		"name": "aws",
		"runtime": "nodejs16.x",
		"versionFunctions": false,
		"stage": "${opt:stage, 'prod'}",
		"region": "${file(config/serverless/region.json):${self:provider.stage}}",
		"environment": "${file(config/serverless/loadEnvs.cjs)}",
		"cfnRole": "arn:aws:iam::${self:custom.accountId}:role/DeploymentServiceRole",
		"iamRoleStatements": "${file(config/serverless/iamRoleStatements.json)}",
		"deploymentBucket": {
			"name": "serverless-deploys-zira-${self:provider.stage}",
			"blockPublicAccess": "true"
		}
	},
	"plugins": ["serverless-esbuild", "serverless-plugin-aws-alerts"],
	"functions": "${file(config/serverless/functions.cjs)}",
	"custom": {
		"esbuild": {
			"config": "./esbuild.config.cjs"
		  },
		"alerts": "${file(config/serverless/alerts.json)}",
		"accountId": "419687873428",
		"context": "${file(context.json)}"
	},
	"resources": "${file(config/serverless/resources.json)}"
}
